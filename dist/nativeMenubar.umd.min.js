(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["nativeMenubar"]=e():t["nativeMenubar"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fae3")}({"149a":function(t,e,n){"use strict";var r=n("f43c"),i=n.n(r);i.a},"1f0b":function(t,e,n){},"460d":function(t,e,n){},"7e6c":function(t,e,n){"use strict";var r=n("1f0b"),i=n.n(r);i.a},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function a(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,u=Object.create(i.prototype),s=new A(r||[]);return u._invoke=S(t,n,s),u}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=a;var l="suspendedStart",h="suspendedYield",m="executing",f="completed",d={};function v(){}function p(){}function b(){}var g={};g[u]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(L([])));w&&w!==n&&r.call(w,u)&&(g=w);var x=b.prototype=v.prototype=Object.create(g);function I(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(t){function e(n,i,u,s){var o=c(t[n],t,i);if("throw"!==o.type){var a=o.arg,l=a.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,u,s)}),(function(t){e("throw",t,u,s)})):Promise.resolve(l).then((function(t){a.value=t,u(a)}),(function(t){return e("throw",t,u,s)}))}s(o.arg)}var n;function i(t,r){function i(){return new Promise((function(n,i){e(t,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=i}function S(t,e,n){var r=l;return function(i,u){if(r===m)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw u;return E()}n.method=i,n.arg=u;while(1){var s=n.delegate;if(s){var o=k(s,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var a=c(t,e,n);if("normal"===a.type){if(r=n.done?f:h,a.arg===d)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=f,n.method="throw",n.arg=a.arg)}}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var u=i.arg;return u?u.done?(n[t.resultName]=u.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function L(t){if(t){var n=t[u];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:E}}function E(){return{value:e,done:!0}}return p.prototype=x.constructor=b,b.constructor=p,b[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},I(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,r,i){var u=new C(a(e,n,r,i));return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},I(x),x[o]="Generator",x[u]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return o.type="throw",o.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=e&&e<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=e,u?(this.method="next",this.next=u.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"971e":function(t,e,n){"use strict";var r=n("d796"),i=n.n(r);i.a},"9bd4":function(t,e,n){"use strict";var r=n("d1d6"),i=n.n(r);i.a},"9d3e":function(t,e,n){"use strict";var r=n("460d"),i=n.n(r);i.a},a34a:function(t,e,n){t.exports=n("96cf")},d1d6:function(t,e,n){},d796:function(t,e,n){},f43c:function(t,e,n){},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fae3:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{ref:"menubar",staticClass:"native-menubar",class:t.css.menubarClass,on:{"!keydown":function(e){return t.keydownDelegationCallback(e)}}},[t._l(t.rootMenuItems,(function(e,r){return n("menu-item-top",{key:e.uid,attrs:{uid:e.uid,item:e.item,vars:t.vars},nativeOn:{click:function(n){return t.topItemClickCallback(e.uid)},mouseenter:function(n){return t.topItemMouseenterCallback(e.uid)}}})})),t._l(t.activeSubmenus,(function(e,r){return n("sub-menu",{key:"sm"+r,attrs:{id:e.parentUid,menu:e.menu,submenuIndex:r,funcs:{itemMouseenterCallback:t.itemMouseenterCallback,itemClickCallback:t.itemClickCallback,keydownCallback:t.keydownCallback},vars:t.vars,showAccelerators:t.showAccelerators}})}))],2)},u=[],s=n("a34a"),o=n.n(s);function a(t,e,n,r,i,u,s){try{var o=t[u](s),a=o.value}catch(c){return void n(c)}o.done?e(a):Promise.resolve(a).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var u=t.apply(e,n);function s(t){a(u,r,i,s,o,"next",t)}function o(t){a(u,r,i,s,o,"throw",t)}s(void 0)}))}}var l={methods:{toggleMenuActive:function(t){!1===this.isMenuActive?this.activateMenu(t):this.deactivateMenu()},activateMenu:function(){var t=c(o.a.mark((function t(e){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isMenuActive=!0,t.next=3,this.showSubmenu(e);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deactivateMenu:function(){var t=c(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isMenuActive=!1,t.next=3,this.hideAllSubmenus();case 3:this.resetMenuState();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetMenuState:function(){this.switchInputMode(null),this.previousCursorItem=null,this.currentCursorItem=null,this.previousCursorItemUid=null,this.currentCursorItemUid=null,this.indexActiveItemInSubmenu=null,this.indexActiveSubmenu=null}}},h={methods:{buildMenuFromTemplate:function(t){var e=t,n=this.menuItemsFlat,r=this.index,i=1;function u(t,e,n){for(var r=0,s=t.length;r<s;r++){var o=t[r],a=e.push({uid:i,submenu:[],item:o})-1;n[i]=a,i++,o.submenu&&o.submenu.length>0&&u(o.submenu,e,n)}}function s(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n]}u(e,n,r),n.forEach((function(t,e){void 0!==t.item.submenu&&t.item.submenu.forEach((function(t){var r=s(t,n);n[e].submenu.push(r)}))}))}}};function m(t,e,n,r,i,u,s){try{var o=t[u](s),a=o.value}catch(c){return void n(c)}o.done?e(a):Promise.resolve(a).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var u=t.apply(e,n);function s(t){m(u,r,i,s,o,"next",t)}function o(t){m(u,r,i,s,o,"throw",t)}s(void 0)}))}}var d={methods:{keydownDelegationCallback:function(t){var e=this.getItemByUid(this.currentCursorItemUid),n=e.submenu.length>0,r=this.menu.indexOf(e.item)>-1;this.switchInputMode("keyboard"),r?this.topItemKeydownCallback(t,e):this.keydownCallback(t,e,this.indexActiveItemInSubmenu,this.indexActiveSubmenu,n)},keydownCallback:function(t,e,n,r,i){switch(t.key){case"ArrowDown":case"ArrowUp":this.goVerticalMenu(t.key,e,n);break;case"ArrowRight":this.goRight(e,r,i);break;case"ArrowLeft":this.goLeft(e);break;case"Enter":this.dispatchItemEvent(t,e.item),this.deactivateMenu();break;default:return}t.preventDefault()},topItemKeydownCallback:function(t,e){var n=t.key;n.startsWith("Arrow")&&(t.preventDefault(),"ArrowDown"===n||"ArrowUp"===n?this.goVerticalTopLevel(n,e):"ArrowRight"===n?this.goRightTopLevel():"ArrowLeft"===n&&this.goLeftTopLevel())},setKeyboardCursor:function(t){this.setCursor(t),this.indexActiveItemInSubmenu=this.getIndexOfItemInMenuByUid(t),this.indexActiveSubmenu=this.getSubmenuIndexByMemberUid(t)},getUidThatIsNotSeparator:function(t,e,n){var r=t[e],i=e,u=0,s=t.length;while("separator"===r.item.type&&u<s){var o=this.getElementAtNextIndex(t,i,n),a=o.item,c=o.index;r=a,i=c,u++}return u<s?r.uid:null},getActiveSubmenu:function(){return this.activeSubmenus[this.activeSubmenus.length-1]},getElementAtNextIndex:function(t,e,n){var r=e+n;return r<0&&(r=t.length-1),void 0===t[r]&&(r=0),{item:t[r],index:r}},goHorizontalTopLevel:function(){var t=f(o.a.mark((function t(e){var n,r,i,u,s,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.activeSubmenusIds.length>0,r=n?this.activeSubmenusIds[0]:this.currentCursorItemUid,i=this.getItemByUid(r),u=this.getElementAtNextIndex(this.rootMenuItems,this.rootMenuItems.indexOf(i),e),s=u.item.uid,!n){t.next=12;break}return t.next=8,this.gotoSubmenuRoot(s);case 8:a=this.activeSubmenus[0].menu[0].uid,this.setKeyboardCursor(a),t.next=13;break;case 12:this.setKeyboardCursor(s);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),goVerticalMenu:function(t,e,n){var r=this.getActiveSubmenu(),i=-1===r.menu.indexOf(e),u="ArrowDown"===t,s=u?1:-1,o=u?0:r.menu.length-1,a=n+s;(void 0===r.menu[a]||i)&&(a=o);var c=this.getUidThatIsNotSeparator(r.menu,a,s);null!==c&&this.setKeyboardCursor(c)},goRight:function(){var t=f(o.a.mark((function t(e,n,r){var i,u,s,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this.activeSubmenus.length-1,u=r&&n+1===i,!r||u){t.next=10;break}return t.next=5,this.showSubmenu(e.uid);case 5:s=this.getActiveSubmenu(),a=s.menu[0].uid,this.setKeyboardCursor(a),t.next=11;break;case 10:this.goHorizontalTopLevel(1);case 11:case"end":return t.stop()}}),t,this)})));function e(e,n,r){return t.apply(this,arguments)}return e}(),goLeft:function(){var t=f(o.a.mark((function t(e){var n,r,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.activeSubmenusIds.length>1)){t.next=9;break}return n=this.getActiveSubmenu(),r=n.menu.indexOf(e)>-1,i=r?n.parentUid:e.uid,t.next=6,this.hideLastSubmenu();case 6:this.setKeyboardCursor(i),t.next=10;break;case 9:this.goHorizontalTopLevel(-1);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),goVerticalTopLevel:function(){var t=f(o.a.mark((function t(e,n){var r,i,u,s,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e,0!==this.activeSubmenus.length){t.next=5;break}return t.next=4,this.gotoSubmenuRoot(n.uid);case 4:r="ArrowDown";case 5:i=this.activeSubmenus[0],u=i.menu,s="ArrowDown"===r?0:u.length-1,a=u[s].uid,this.setKeyboardCursor(a);case 10:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),goRightTopLevel:function(){this.goHorizontalTopLevel(1)},goLeftTopLevel:function(){this.goHorizontalTopLevel(-1)}}};function v(t){return g(t)||b(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function b(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function g(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var y={methods:{setHighlightedItems:function(t,e){this.focusedUid=t,this.highlightedUids.splice(0,this.highlightedUids.length);for(var n=e;n>=0;n--)this.highlightedUids.unshift(this.activeSubmenusIds[n])},setMouseCursor:function(t,e,n){this.setCursor(t),this.indexActiveItemInSubmenu=e,this.indexActiveSubmenu=n},handleRenderNewSubmenu:function(t,e){e&&-1===this.activeSubmenusIds.indexOf(t)&&this.showSubmenu(t)},handleDestroySubmenu:function(t,e){var n=this.activeSubmenus[t],r=e<0,i=t===this.activeSubmenus.length-1;if(r){var u=n.parentUid;this.hideSubmenusAfterThisId(u)}else i||this.hideLastSubmenu()},openCloseSubmenu:function(t,e,n,r){var i=this.indexActiveSubmenu,u=this.getSubmenuTransitVector(i,n);this.setMouseCursor(t,e,n),this.handleDestroySubmenu(n,u),this.handleRenderNewSubmenu(t,r)},delayOpenCloseSubmenu:function(t,e,n,r){var i=this;this.currentSubmenuTimeout=setTimeout((function(){i.isMenuActive&&i.openCloseSubmenu(t,e,n,r)}),this.menuShowTimeoutMs)},cancelOpenCloseSubmenu:function(){clearTimeout(this.currentSubmenuTimeout)},syncHighlightedWithActiveItems:function(){var t;this.highlightedUids.splice(0,this.highlightedUids.length),(t=this.highlightedUids).push.apply(t,v(this.activeSubmenusIds))},itemClickCallback:function(t,e){this.dispatchItemEvent(t,e),this.deactivateMenu()},itemMouseenterCallback:function(t,e,n,r){this.switchInputMode("mouse"),this.setHighlightedItems(t,n),this.cancelOpenCloseSubmenu(),this.delayOpenCloseSubmenu(t,e,n,r)},topItemClickCallback:function(t){this.toggleMenuActive(t),this.isMenuActive&&(this.switchInputMode("mouse"),this.setMouseCursor(t),this.setHighlightedItems(t,-1))},topItemMouseenterCallback:function(t){this.isMenuActive&&(this.switchInputMode("mouse"),this.gotoSubmenuRoot(t),this.setMouseCursor(t),this.setHighlightedItems(t,-1),this.cancelOpenCloseSubmenu())},mouseInputModeExit:function(){this.cancelOpenCloseSubmenu(),this.syncHighlightedWithActiveItems(),this.setCursor(this.focusedUid),this.focusedUid=null}}};function w(t,e,n,r,i,u,s){try{var o=t[u](s),a=o.value}catch(c){return void n(c)}o.done?e(a):Promise.resolve(a).then(r,i)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var u=t.apply(e,n);function s(t){w(u,r,i,s,o,"next",t)}function o(t){w(u,r,i,s,o,"throw",t)}s(void 0)}))}}var I={methods:{showSubmenu:function(){var t=x(o.a.mark((function t(e){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeSubmenusIds.push(e),t.next=3,this.$nextTick();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),hideLastSubmenu:function(){var t=x(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeSubmenusIds.pop(),t.next=3,this.$nextTick();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),hideAllSubmenus:function(){var t=x(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeSubmenusIds.splice(0,this.activeSubmenusIds.length),t.next=3,this.$nextTick();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),hideSubmenusAfterThisId:function(){var t=x(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.activeSubmenusIds,r=n.indexOf(e),n.splice(r+1,n.length-1),t.next=5,this.$nextTick();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),gotoSubmenuRoot:function(){var t=x(o.a.mark((function t(e){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.hideAllSubmenus(),this.showSubmenu(e),t.next=4,this.$nextTick();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},C={methods:{getIndexOfItemInMenuByUid:function(t){for(var e=this.activeSubmenus,n=this.getItemByUid(t),r=0,i=e.length;r<i;r++){var u=this.activeSubmenus[r],s=u.menu.indexOf(n);if(s>-1)return s}return null},getItemByUid:function(t){var e=this.menuItemsFlat[this.index[t]];return void 0!==e?e:null},getParentItemUidByUid:function(t){for(var e=this.getItemByUid(t),n=0,r=this.activeSubmenus.length;n<r;n++)if(this.activeSubmenus[n].menu.indexOf(e)>-1)return this.activeSubmenus[n].parentUid;return null},getSubmenuIndexByMemberUid:function(t){return this.activeSubmenusIds.indexOf(this.getParentItemUidByUid(t))},getSubmenuTransitVector:function(t,e){var n=null!==t&&null!==e;return n?e-t:0}}},S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"i"+t.uid,staticClass:"native-menubar_item native-menubar_item--toplevel",class:[t.vars.css.itemBaseClass,t.vars.css.itemTopClass,t.activeClass],attrs:{id:t.vars.itemIdPrefix+t.uid,tabindex:"0"}},[t._v(t._s(t.label))])},k=[],M={computed:{isFocused:function(){return this.uid===this.vars.focusedUid},isActive:function(){return this.vars.highlightedUids.indexOf(this.uid)>-1},label:function(){var t;return t=this.item.label,t||(t=this.item.role,t?t[0].toUpperCase()+t.substring(1,t.length):(t=this.item.id,t?t[0].toUpperCase()+t.substring(1,t.length):"Unnamed"))},activeClass:function(){return this.isActive?this.vars.css.itemActiveClass||this.vars.itemDefaultActiveClass:""}},watch:{isFocused:function(t){t?this.$refs["i"+this.uid].focus():this.$refs["i"+this.uid].blur()}}},_={name:"menu-item-top",mixins:[M],props:["uid","item","vars"]},A=_;n("9d3e");function L(t,e,n,r,i,u,s,o){var a,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),u&&(c._scopeId="data-v-"+u),s?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=a):i&&(a=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),a)if(c.functional){c._injectStyles=a;var l=c.render;c.render=function(t,e){return a.call(e),l(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,a):[a]}return{exports:t,options:c}}var E=L(A,S,k,!1,null,null,null),U=E.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"native-menubar_submenu",class:t.vars.css.submenuClass,style:t.style},t._l(t.menu,(function(e,r){return n(t.getComponentType(e.item),{key:e.uid,tag:"component",attrs:{uid:e.uid,item:e.item,funcs:t.funcs,vars:t.vars,itemIndexInSubmenu:r,itemParentIndexInActiveMenus:t.submenuIndex,showAccelerators:t.showAccelerators}})})),1)},O=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"i"+t.uid,staticClass:"native-menubar_item native-menubar_item--functional",class:[t.vars.css.itemBaseClass,t.vars.css.itemFunctionalClass,t.activeClass],attrs:{id:t.vars.itemIdPrefix+t.uid,tabindex:"0"},on:t._d({mouseenter:t.notifyParentMouseEnteredItem},[t.hasClickListner,t.clickItem])},[n("div",{staticClass:"native-menubar_item--content native-menubar_item--left",class:[t.vars.css.itemContentClass,t.vars.css.itemLeftClass]}),n("div",{staticClass:"native-menubar_item--content native-menubar_item--middle",class:[t.vars.css.itemContentClass,t.vars.css.itemMiddleClass]},[t._v(t._s(t.label))]),n("div",{staticClass:"native-menubar_item--content native-menubar_item--right",class:[t.vars.css.itemContentClass,t.vars.css.itemRightClass]},[t.item.accelerator&&t.showAccelerators?n("span",[t._v(t._s(t.item.accelerator))]):t._e(),t.hasSubmenu?n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4 8",width:"4",height:"8"}},[n("path",{attrs:{d:"M1.8 6.06L0 8.08L0 4.04L0 0L1.8 2.02L3.59 4.04L1.8 6.06Z",fill:"currentColor"}})]):t._e()])])},j=[],N={name:"menu-item-functional",mixins:[M],props:["uid","item","funcs","vars","itemParentIndexInActiveMenus","itemIndexInSubmenu","showAccelerators"],computed:{hasSubmenu:function(){return void 0!==this.item.submenu&&this.item.submenu.length>0},hasClickListner:function(){return!1===this.hasSubmenu?"click":null}},methods:{clickItem:function(t){this.item.click,this.funcs.itemClickCallback(t,this.item)},notifyParentMouseEnteredItem:function(){this.funcs.itemMouseenterCallback(this.uid,this.itemIndexInSubmenu,this.itemParentIndexInActiveMenus,this.hasSubmenu)}}},B=N,R=(n("9bd4"),L(B,P,j,!1,null,null,null)),$=R.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("hr",{staticClass:"native-menubar_item native-menubar_item--separator",class:[t.vars.css.itemBaseClass,t.vars.css.itemSeparatorClass],attrs:{id:t.vars.itemIdPrefix+t.uid}})},H=[],D={name:"menu-item-separator",props:["uid","vars"]},K=D,G=(n("149a"),L(K,F,H,!1,null,null,null)),V=G.exports,z={name:"sub-menu",props:["menu","id","funcs","vars","submenuIndex","showAccelerators"],computed:{style:function(){var t=document.getElementById(this.vars.itemIdPrefix+this.id),e=t.getBoundingClientRect(),n=0===this.submenuIndex,r=n?e.x:e.x+e.width,i=n?e.y+e.height:e.y;return{left:r+"px",top:i+"px"}}},methods:{getComponentType:function(t){return"separator"===t.type?"menu-item-separator":"menu-item-functional"}},components:{"menu-item-separator":V,"menu-item-functional":$}},W=z,X=(n("971e"),L(W,T,O,!1,null,null,null)),Y=X.exports;const q=[];function Z(t){return"object"===typeof HTMLElement?t instanceof HTMLElement:t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName}function J(t,e){let n=e;while(null!=n){if(n==t)return!0;n=n.parentNode}return!1}function Q(t){const e=q.length-1,n=q[e].element;J(n,t.target)||(!0===q[e].stop&&t.stopPropagation(),q[e].callback(t),q.pop(),0===q.length?tt():e>0&&Q(t))}function tt(){document.removeEventListener("mousedown",Q,!0)}function et(t,e,n={}){if(!Z(t))throw new Error("'element' parameter is not an HTML element.");const r="boolean"!==typeof n.stopPropagation||n.stopPropagation;q.push({element:t,callback:e,stop:r}),1===q.length&&document.addEventListener("mousedown",Q,{capture:!0})}function nt(t=!1){q.pop(),0===q.length?tt():t&&(q.splice(0,q.length),tt())}var rt={push:et,forcePop:nt};function it(t,e,n,r,i,u,s){try{var o=t[u](s),a=o.value}catch(c){return void n(c)}o.done?e(a):Promise.resolve(a).then(r,i)}function ut(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var u=t.apply(e,n);function s(t){it(u,r,i,s,o,"next",t)}function o(t){it(u,r,i,s,o,"throw",t)}s(void 0)}))}}var st=null,ot={name:"menu-bar",mixins:[l,h,d,y,I,C],props:{menu:{type:Array,required:!0},menuShowTimeoutMs:{type:Number,default:200},showAccelerators:{type:Boolean,default:!1},modalServiceUser:{type:Object,validator:function(t){var e=t||{};return"function"===typeof e.push&&"function"===typeof e.forcePop}},css:{type:Object,default:function(){return{}},validator:function(t){var e=["menubarClass","submenuClass","itemBaseClass","itemTopClass","itemSeparatorClass","itemFunctionalClass","itemContentClass","itemLeftClass","itemMiddleClass","itemRightClass","itemActiveClass"];for(var n in t){if(-1===e.indexOf(n))return console.error("Fail to validate 'css' prop of Native Menubar component. Illegal css selector: "+n),!1;if("string"!==typeof t[n])return console.error("Fail to validate 'css' prop of Native Menubar component. Css selector must be a string."),!1}return!0}}},computed:{activeSubmenus:function(){var t=this,e=[];return this.activeSubmenusIds.forEach((function(n){var r=t.getItemByUid(n);r&&r.submenu.length>0&&e.push({menu:r.submenu,parentUid:r.uid,id:r.uid})})),e},rootMenuItems:function(){var t=this;return this.menuItemsFlat.filter((function(e){return t.menu.indexOf(e.item)>-1}))},modalService:function(){return this.modalServiceUser||rt},vars:function(){var t="mouse"===this.inputMode;return{focusedUid:t?this.focusedUid:this.currentCursorItemUid,highlightedUids:t?this.highlightedUids:this.activeSubmenusIds,itemIdPrefix:"native-menubar_item--",itemDefaultActiveClass:"native-menubar_item--active",css:this.css}}},data:function(){return{isMenuActive:!1,inputMode:"mouse",menuItemsFlat:[],index:{},activeSubmenusIds:[],previousCursorItem:null,currentCursorItem:null,previousCursorItemUid:null,currentCursorItemUid:null,indexActiveItemInSubmenu:null,indexActiveSubmenu:null,focusedUid:null,highlightedUids:[],currentSubmenuTimeout:null}},watch:{isMenuActive:function(t){var e=this;t?this.modalService.push(this.$refs.menubar,(function(){e.deactivateMenu()})):this.modalService.forcePop(!0)}},methods:{setCursor:function(t){this.previousCursorItem=this.currentCursorItem,this.previousCursorItemUid=this.currentCursorItemUid,this.currentCursorItemUid=t,this.currentCursorItem=this.getItemByUid(t)},switchInputMode:function(t){if(this.inputMode===t)return!1;var e=[null,"mouse","keyboard"];if(-1===e.indexOf(t))throw new Error("switchInputMode was called with an undefined mode: "+t);var n=this.inputMode,r=n+"InputModeExit",i=t+"InputModeEnter";"function"===typeof this[r]&&this[r](),"function"===typeof this[i]&&this[i](),this.inputMode=t},dispatchItemEvent:function(t,e){"function"===typeof e.click&&e.click(e,null,t),this.$emit("itemExecute",{eventSource:t,item:e})},activateESCListener:function(t){var e=this;st=function(){var t=ut(o.a.mark((function t(n){var r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=27,n.keyCode!==r){t.next=9;break}if(!(e.activeSubmenusIds.length>0)){t.next=8;break}return e.activeSubmenusIds[e.activeSubmenusIds.length-1],t.next=6,e.hideLastSubmenu();case 6:t.next=9;break;case 8:!0===e.isMenuActive&&e.deactivateMenu();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),document.addEventListener("keyup",st)},deactivateESCListener:function(){document.removeEventListener("keyup",st),st=null}},created:function(){this.buildMenuFromTemplate(this.menu)},mounted:function(){window.addEventListener("blur",this.deactivateMenu),window.aaa=this},destroyed:function(){this.deactivateMenu(),window.removeEventListener("blur",this.deactivateMenu)},components:{"sub-menu":Y,"menu-item-top":U}},at=ot,ct=(n("7e6c"),L(at,i,u,!1,null,null,null)),lt=ct.exports;n.d(e,"component",(function(){return lt}))}})}));